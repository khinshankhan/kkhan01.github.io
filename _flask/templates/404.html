
{% extends "base.html" %}

{% block c_title %}
Page Not Found
{% endblock %}

{% block style %}
<style>
  .parallax-container {
      height: 600px;
  }
</style>
{% endblock %}

{% block all %}


<div class="container">
  <div class="content">
    <h1 class="text-center">Page Not Found</h1>

    <h4>Enjoy an xkcd image</h4>

    <img src="" alt="404 error" id="404img">

    <script>
      let totalNum = 1969;
      let nameXKCD = "not_available";

      let getTotalXKCD = async function (url, item) {
	  let xhr = new XMLHttpRequest();
	  xhr.onreadystatechange = function() {
	      if (this.readyState === 4 && this.status === 200) {
		  let response = JSON.parse(this.responseText);
		  totalNum = response[item];
		  console.log("THIS: " + response[item]);
	      }
	  }
	  xhr.open("GET", "https://cors-anywhere.herokuapp.com/" + url);
	  xhr.setRequestHeader("Accept", 'application/json');
	  xhr.send();
      }

      function randXKCDImage () {
	  getTotalXKCD("https://xkcd.com/info.0.json", "num");
	  console.log(totalNum);
	  images = [
	      'not_available',
	  ];
	  console.log("HEO: " + totalNum);
	  getTotalXKCD("https://xkcd.com/info.0.json", "num");
	  console.log("HEO: " + totalNum);

	  return nameXKCD;
      }

      document.getElementById("404img").src=`https://imgs.xkcd.com/comics/${randXKCDImage()}.png`

    </script>
    <br>

    <p class="text-center"><a href="{{ url_for("index") }}">Return to index</a></p>
  </div>
</div>


{% endblock %}
